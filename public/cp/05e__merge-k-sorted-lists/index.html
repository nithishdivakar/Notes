<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  Merge k Sorted Lists [LC#23]
  #

You are given an array of k linked-lists lists, each linked-list is sorted in ascending order. Merge all the linked-lists into one sorted linked-list and return it.
Brute-Force

Merge all lists into one and sort the list
$T(n) = O(n log n)$ ; $S(n) = O(n)$

Priority Queue or Min Heap

Create a min heap with first values of all the lists
Repeatedly pop the root of min heap, add to the answer and push the next value of the list where root was from to the heap
$T(n) = O(k  &#43; n log k)$ heapify &#43; n pop root
$S(n) = O(k)$ for the heap


def merge_sorted_lists(lists: List[Optional[ListNode]]) -&gt; Optional[ListNode]:
    class HeapNode:
        def __init__(self, node: ListNode):
            self.node = node
        def __lt__(self, other):
            return self.node.val &lt; other.node.val
    
    heap = []
    current = dummy = ListNode(0)
    for lst in lists:
        if lst:
            heapq.heappush(heap, HeapNode(lst))
    
    while heap:
        node = heapq.heappop(heap).node
        current.next = node
        current = current.next
        if node.next:
            heapq.heappush(heap, HeapNode(node.next))

    return dummy.next
Iterative Mergesort on sorted lists">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="http://localhost:1313/cp/05e__merge-k-sorted-lists/">
  <meta property="og:site_name" content="Notes">
  <meta property="og:title" content="05e__Merge K Sorted Lists">
  <meta property="og:description" content="Merge k Sorted Lists [LC#23] # You are given an array of k linked-lists lists, each linked-list is sorted in ascending order. Merge all the linked-lists into one sorted linked-list and return it.
Brute-Force
Merge all lists into one and sort the list $T(n) = O(n log n)$ ; $S(n) = O(n)$ Priority Queue or Min Heap
Create a min heap with first values of all the lists Repeatedly pop the root of min heap, add to the answer and push the next value of the list where root was from to the heap $T(n) = O(k &#43; n log k)$ heapify &#43; n pop root $S(n) = O(k)$ for the heap def merge_sorted_lists(lists: List[Optional[ListNode]]) -&gt; Optional[ListNode]: class HeapNode: def __init__(self, node: ListNode): self.node = node def __lt__(self, other): return self.node.val &lt; other.node.val heap = [] current = dummy = ListNode(0) for lst in lists: if lst: heapq.heappush(heap, HeapNode(lst)) while heap: node = heapq.heappop(heap).node current.next = node current = current.next if node.next: heapq.heappush(heap, HeapNode(node.next)) return dummy.next Iterative Mergesort on sorted lists">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="cp">
    <meta property="article:published_time" content="2024-11-14T07:07:07+01:00">
    <meta property="article:modified_time" content="2024-11-14T07:07:07+01:00">
<title>05e__Merge K Sorted Lists | Notes</title>
<link rel="icon" href="/favicon.png" >
<link rel="manifest" href="/manifest.json">
<link rel="canonical" href="http://localhost:1313/cp/05e__merge-k-sorted-lists/">
<link rel="stylesheet" href="/book.min.6c8b9d2a1fc95075ed7da46ca81060b39add8fff6741ac51259f768929281e2c.css" integrity="sha256-bIudKh/JUHXtfaRsqBBgs5rdj/9nQaxRJZ92iSkoHiw=" crossorigin="anonymous">
  <script defer src="/fuse.min.js"></script>
  <script defer src="/en.search.min.79b0bd87f71e8200cba9e7cb52a5bf6d9e2686167ec3985faa42a522e2aa715d.js" integrity="sha256-ebC9h/ceggDLqefLUqW/bZ4mhhZ&#43;w5hfqkKlIuKqcV0=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Notes</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>













  



  
  <ul>
    
      
        <li>
          
  
  

  
    <span>Cps</span>
  

          
  <ul>
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/01a__two-sum/" class="">01a__Two Sum</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/01c__maximum-subarray-sum/" class="">01c__Maximum Subarray Sum</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/01e__containers-with-most-water/" class="">01e__Containers with Most Water</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/01f__all-subsets-with-duplicates/" class="">01f__All Subsets with Duplicates</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/01g__median-in-a-stream/" class="">01g__Median in a Stream</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/01h__binary-search/" class="">01h__Binary Search</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/02a__longest-substring-without-repeating-characters/" class="">02a__Longest Substring Without Repeating Characters</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/02d__edit-distances/" class="">02d__Edit Distances</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/02e01__longest-palindromic-substring/" class="">02e01__Longest Palindromic Substring</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/02e02__count-palindromic-substrings/" class="">02e02__Count Palindromic Substrings</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/03a__longest-consecutive-sequence/" class="">03a__Longest Consecutive Sequence</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/03b__longest-increasing-subsequence/" class="">03b__Longest Increasing Subsequence</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/03c__longest-common-subsequence/" class="">03c__Longest Common Subsequence</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/04a__merge-intervals/" class="">04a__Merge Intervals</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/04c__min-meeting-rooms/" class="">04c__Min Meeting Rooms</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/05a__reversing-a-linked-list/" class="">05a__Reversing a Linked List</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/05c__merging-two-sorted-linked-lists/" class="">05c__Merging Two Sorted Linked Lists</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/05e__merge-k-sorted-lists/" class="active">05e__Merge K Sorted Lists</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/05f__detecting-a-cycle-in-linked-list/" class="">05f__Detecting a Cycle in Linked List</a>
  

        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/06a05__binary-tree-from-its-traversals/" class="">06a05__Binary Tree from its Traversals</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/06b__binary-tree-maximum-path-sum/" class="">06b__Binary Tree Maximum Path Sum</a>
  

        </li>
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/06c01__in-a-binary-tree/" class="">06c01__In a Binary Tree</a>
  

        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/07c01__bfs-like-topological-sort-kahn-algorithm/" class="">07c01__BFS like Topological Sort (Kahn Algorithm)</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/07c02__dfs-like-topological-sort/" class="">07c02__DFS like Topological Sort</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/07e01__dijkstra-algorithm/" class="">07e01__Dijkstra Algorithm</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/07e02__bellman-ford-algorithm/" class="">07e02__Bellman-Ford Algorithm</a>
  

        </li>
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/08__sets/" class="">08__Sets</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/08a__dsu-union-find/" class="">08a__DSU Union-Find</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cp/08b__dsu-with-rollbacks/" class="">08b__DSU with Rollbacks</a>
  

        </li>
      
    
      
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/09d__subsetsum-to-knapsack/" class="">09d__subsetsum to knapsack</a>
  

        </li>
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          
  
  

  
    <a href="/cp/tracker/" class="">index</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>














</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>05e__Merge K Sorted Lists</h3>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#merge-k-sorted-lists-lc23">Merge k Sorted Lists [LC#23]</a></li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h2 id="merge-k-sorted-lists-lc23">
  Merge k Sorted Lists [LC#23]
  <a class="anchor" href="#merge-k-sorted-lists-lc23">#</a>
</h2>
<p>You are given an array of <code>k</code> linked-lists lists, each linked-list is sorted in ascending order. Merge all the linked-lists into one sorted linked-list and return it.</p>
<p><strong>Brute-Force</strong></p>
<ul>
<li>Merge all lists into one and sort the list</li>
<li>$T(n) = O(n log n)$ ; $S(n) = O(n)$</li>
</ul>
<p><strong>Priority Queue or Min Heap</strong></p>
<ul>
<li>Create a min heap with first values of all the lists</li>
<li>Repeatedly pop the root of min heap, add to the answer and push the next value of the list where root was from to the heap</li>
<li>$T(n) = O(k  + n log k)$ heapify + n pop root</li>
<li>$S(n) = O(k)$ for the heap</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">merge_sorted_lists</span>(lists: List[Optional[ListNode]]) <span style="color:#f92672">-&gt;</span> Optional[ListNode]:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HeapNode</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> __init__(self, node: ListNode):
</span></span><span style="display:flex;"><span>            self<span style="color:#f92672">.</span>node <span style="color:#f92672">=</span> node
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">def</span> __lt__(self, other):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>node<span style="color:#f92672">.</span>val <span style="color:#f92672">&lt;</span> other<span style="color:#f92672">.</span>node<span style="color:#f92672">.</span>val
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    heap <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    current <span style="color:#f92672">=</span> dummy <span style="color:#f92672">=</span> ListNode(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> lst <span style="color:#f92672">in</span> lists:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> lst:
</span></span><span style="display:flex;"><span>            heapq<span style="color:#f92672">.</span>heappush(heap, HeapNode(lst))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> heap:
</span></span><span style="display:flex;"><span>        node <span style="color:#f92672">=</span> heapq<span style="color:#f92672">.</span>heappop(heap)<span style="color:#f92672">.</span>node
</span></span><span style="display:flex;"><span>        current<span style="color:#f92672">.</span>next <span style="color:#f92672">=</span> node
</span></span><span style="display:flex;"><span>        current <span style="color:#f92672">=</span> current<span style="color:#f92672">.</span>next
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> node<span style="color:#f92672">.</span>next:
</span></span><span style="display:flex;"><span>            heapq<span style="color:#f92672">.</span>heappush(heap, HeapNode(node<span style="color:#f92672">.</span>next))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> dummy<span style="color:#f92672">.</span>next
</span></span></code></pre></div><p><strong>Iterative Mergesort on sorted lists</strong></p>
<ul>
<li>Take 2 pairs of list and sort them together</li>
<li>Do this iteratively until there is only 1 left</li>
<li>$T(n) = O(n + n/2 + n/4 + &hellip; +n/k) = O(n log k)$</li>
<li>$S(n) = O(1)$</li>
</ul>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#merge-k-sorted-lists-lc23">Merge k Sorted Lists [LC#23]</a></li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












